{% extends "home/base2.html" %}
{% load static %}
{% block title %} Order History {% endblock title %}
{% block content %}

<style>
    .btn-success {
        background-color: green;
        border-color: green ;
        color:white;
    }
.icon-adjust {
    font-size: 1.5em; /* Adjusts the icon size */
    vertical-align: middle; /* Aligns the icon with the text */
    margin-right: 8px; /* Adds space between the icon and text */
    height: 1em; /* Ensures the icon height is consistent with text */
}
</style>
<div class="main-content">
    <div class="page-content">
        <!-- breadcrumb-area -->
        <section class="breadcrumb__area fix">
            <div class="container">
                <div class="row align-items-end">
                    <div class="col-lg-8">
                        <div class="breadcrumb__content">
                            <h3 class="title">Order History</h3>
                            <nav class="breadcrumb">
                                <span property="itemListElement" typeof="ListItem">
                                    <a href="{% url 'home' %}">Home</a>
                                </span>
                                <span class="breadcrumb-separator"><i class="fas fa-arrow-right"></i></span>
                                <span property="itemListElement" typeof="ListItem">Order History</span>
                            </nav>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="breadcrumb__img">
                            <img src="{% static 'assets/img/images/breadcrumb_img.png' %}" alt="img" data-aos="fade-left" data-aos-delay="800">
                        </div>
                    </div>
                </div>
            </div>
            <div class="breadcrumb__shape-wrap">
                <img src="{% static 'assets/img/images/breadcrumb_shape01.png' %}" alt="img" data-aos="fade-down-right" data-aos-delay="400">
                <img src="{% static 'assets/img/images/breadcrumb_shape02.png' %}" alt="img" data-aos="fade-up-left" data-aos-delay="400">
            </div>
        </section>
        <!-- breadcrumb-area-end -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="card" id="orderList" style="border-radius: 10px; box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);">
                        <div class="card-header border-0" style="background-color: #f8f9fa; border-bottom: 1px solid #e9ecef;">
                            <div class="row align-items-center gy-3">
                                <div class="col-sm">
                                    <h5 class="card-title mb-0">Order History</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-body border border-dashed border-end-0 border-start-0">
                            <form>
                                <div class="row g-3">
                                    <div class="col-xxl-5 col-sm-6">
                                        <div class="search-box" style="position: relative;">
                                            <input type="text" class="form-control search" placeholder="Search for order ID, customer, order status or something...">
                                            <i class="fas fa-search search-icon" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #ffffff;"></i>
                                        </div>
                                    </div>
                                    <div class="col-xxl-2 col-sm-6">
                                        <div>
                                            <input type="text" class="form-control" data-provider="flatpickr" data-date-format="d M, Y" data-range-date="true" id="demo-datepicker" placeholder="Select date">
                                        </div>
                                    </div>
                                    <div class="col-xxl-2 col-sm-4">
                                        <div>
                                            <select class="form-control" data-choices data-choices-search-false name="choices-single-default" id="idStatus">
                                                <option value="">Status</option>
                                                <option value="all" selected>All</option>
                                                <option value="Pending">Pending</option>
                                                <option value="Inprogress">Inprogress</option>
                                                <option value="Cancelled">Cancelled</option>
                                                <option value="Pickups">Pickups</option>
                                                <option value="Returns">Returns</option>
                                                <option value="Delivered">Delivered</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xxl-2 col-sm-4">
                                        <div>
                                            <select class="form-control" data-choices data-choices-search-false name="choices-single-default" id="idPayment">
                                                <option value="">Select Payment</option>
                                                <option value="all" selected>All</option>
                                                <option value="Mastercard">Mastercard</option>
                                                <option value="Paypal">Paypal</option>
                                                <option value="Visa">Visa</option>
                                                <option value="COD">COD</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xxl-1 col-sm-4">
                                        <div>
                                            <button type="button" class="btn-success w-100" onclick="SearchData();">
                                                <i class="fas fa-sliders-h me-1 icon-adjust"></i> Filters
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="card-body pt-0">
                            <div>
                                <ul class="nav nav-tabs nav-tabs-custom nav-success mb-3" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active All py-3" data-bs-toggle="tab" id="All" href="#home1" role="tab" aria-selected="true">
                                            <i class="fas fa-store-alt me-1 "></i> All Orders
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link py-3 Delivered" data-bs-toggle="tab" id="Delivered" href="#delivered" role="tab" aria-selected="false">
                                            <i class="fas fa-check-circle me-1 icon-adjust"></i> Delivered
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link py-3 Pickups" data-bs-toggle="tab" id="Pickups" href="#pickups" role="tab" aria-selected="false">
                                            <i class="fas fa-truck me-1 icon-adjust"></i> Pickups <span class="badge bg-danger align-middle ms-1">2</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link py-3 Returns" data-bs-toggle="tab" id="Returns" href="#returns" role="tab" aria-selected="false">
                                            <i class="fas fa-exchange-alt me-1 icon-adjust"></i> Returns
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link py-3 Cancelled" data-bs-toggle="tab" id="Cancelled" href="#cancelled" role="tab" aria-selected="false">
                                            <i class="fas fa-times-circle me-1 icon-adjust"></i> Cancelled
                                        </a>
                                    </li>
                                </ul>
                                <div class="table-responsive table-card mb-1">
                                    <table class="table table-nowrap align-middle" id="orderTable">
                                        <thead class="text-muted table-light-blue" style="background-color: #e3f2fd; color: #0277bd;">
                                            <tr class="text-uppercase">
                                                <th class="sort" data-sort="id">Order ID</th>
                                                <th class="sort" data-sort="customer_name">Tracking Number</th>
                                                <th class="sort" data-sort="product_name">Total Price</th>
                                                <th class="sort" data-sort="status">Status</th>
                                                <th class="sort" data-sort="date">Order Date</th>
                                                <th class="sort" data-sort="date">Action</th>
                                            </tr>
                                        </thead>
                                    <tbody class="list form-check-all">
                                        {% for order in orders %}
                                        <tr>
                                            <td class="id">
                                                <a href="javascript:void(0);" class="fw-medium link-primary">{{ order.order_id }}</a>
                                            </td>
                                            <td class="customer_name">
                                                {{ order.tracking_no}} 
                                            </td>
                                            <td class="amount">${{ order.total_price }}</td>
                                            <td class="status">
                                                {{order.status}}
                                            </td>
                                            <td class="date">{{ order.created_at }}</td>
                                            <form action="{% url 'order_view' order.tracking_no %}" Method="POST">
                                                 {% csrf_token %}
                                            <td>
                                                
                                                <button type="submit" class="btn border-btn" style="width: 100px;" data-bs-toggle="modal" data-bs-target="#">View</button>
                                            </form>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>

                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- end card body -->
                    </div>
                    <!-- end card -->
                </div>
                <!-- end col -->
            </div>
            <!-- end row -->

{% endblock %}
