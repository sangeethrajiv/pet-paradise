{% load static %}
{% load products_tag %}
<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{% block title %}{% endblock title %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="{% static 'assets/img/favicon.png' %}">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/fontawesome-all.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/flaticon_pet_care.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/odometer.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/swiper-bundle.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/select2.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/jquery-ui.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/aos.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/default.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/main.css' %}">

</head>
<!--Preloader-->
<div id="preloader">
    <div id="loader" class="loader">
        <div class="loader-container">
            <div class="loader-icon"><img src="{% static 'assets/img/logo/preloader.svg' %}" alt=" Preloader"></div>
        </div>
    </div>
</div>
<!--Preloader-end -->

<!-- Scroll-top -->
<button class="scroll__top scroll-to-target" data-target="html">
    <i class="fas fa-angle-up"></i>
</button>
<!-- Scroll-top-end-->

<body>
    {% block header %}
    <header>
        <div id="header-fixed-height"></div>
        <div class="tg-header__top">
            <div class="container custom-container">
                <div class="row">
                    <div class="col-xl-6 col-lg-8">
                        <ul class="tg-header__top-info left-side list-wrap">
                            <li><i class="flaticon-placeholder"></i>369 C East Manstreet ,Kollam Kerala</li>
                            <li><i class="flaticon-mail"></i><a
                                    href="mailto:Petparadiseinfo@gmail.com">Petsparadiseinfo@gmail.com</a></li>
                        </ul>
                    </div>
                    <div class="col-xl-6 col-lg-4">
                        <ul class="tg-header__top-right list-wrap">
                            <li><i class="flaticon-three-o-clock-clock"></i>Opening Hour: 09.00 am- 11.00 pm</li>
                            <li class="tg-header__top-social">
                                <ul class="list-wrap">
                                    <li><a href="" target="_blank"><i class="fab fa-facebook-f"></i></a></li>
                                    <li><a href="" target="_blank"><i class="fab fa-twitter"></i></a></li>
                                    <li><a href="" target="_blank"><i class="fab fa-whatsapp"></i></a></li>
                                    <li><a href="" target="_blank"><i class="fab fa-instagram"></i></a></li>
                                    <li><a href="" target="_blank"><i class="fab fa-youtube"></i></a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div id="sticky-header" class="tg-header__area">
            <div class="container custom-container">
                <div class="row">
                    <div class="col-12">
                        <div class="tgmenu__wrap">
                            <nav class="tgmenu__nav">
                                <div class="logo">
                                    <a href=""><img src="{% static 'assets/img/logo/logo.png' %}" alt="Logo"></a>
                                </div>
                                <div class="tgmenu__navbar-wrap tgmenu__main-menu d-none d-lg-flex">
                                    <ul class="navigation">
                                        <li class="active menu-item-has-children"><a href="#">Home</a>
                                            <ul class="sub-menu">
                                                <li class="active"><a href="{% url 'home' %}">Pet Care & Veterinary</a>
                                                </li>
                                        </li>
                                        <li><a href="{% url 'petbreed' %}">Pet Breed</a></li>
                                        <li><a href="{% url 'petadopt' %}">Pet Adopt</a></li>
                                    </ul>
                                    </li>
                                    <li><a href="{% url 'about' %}">About</a></li>
                                    <li class="menu-item-has-children"><a href="#">Shop</a>
                                        <ul class="sub-menu">
                                            <li><a href="{% url 'shophome' %}">Our Shop</a></li>
                                            <li><a href="{% url 'shop' %}">Shop Details</a></li>
                                            <li><a href="{% url 'petshop' %}">Pets Available</a></li>
                                        </ul>
                                    </li>
                                    <li class="menu-item-has-children"><a href="#">Pages</a>
                                        <ul class="sub-menu">
                                            <li><a href="{% url 'petshop' %}">All Pets</a></li>
                                            <li><a href="{% url 'orderslist' %}">My Orders</a></li>
                                            <li><a href="{% url 'petadoption' %}">Pet Details</a></li>
                                            <li><a href="{% url 'gallery' %}">Gallery</a></li>
                                            <li><a href="{% url 'faq' %}">Faq Page</a></li>
                                            <li><a href="{% url 'ourteam' %}">Our Team</a></li>
                                            <li><a href="{% url 'teamdetails' %}">Team Details</a></li>
                                            <li><a href="{% url 'blog' %}">Our Blog</a></li>
                                            <li><a href="{% url 'ourblog' %}">Blog Details</a></li>
                                            <li><a href="{% url 'change_password' %}">Change Password</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="{% url 'contact' %}">contacts</a></li>
                                    {% if user.is_authenticated %}
                                    <li><a href="{% url 'logout' %}">Logout</a></li>
                                    {% else %}
                                    <li><a href="{% url 'login' %}">LogIn</a></li>
                                    {%endif%}
                                    </ul>
                                </div>
                                <div class="tgmenu__action d-none d-md-block">
                                    <ul class="list-wrap">
                                        <li class="header-search">
                                            <a href="javascript:void(0)" class="search-open-btn">
                                                <i class="flaticon-loupe"></i>
                                            </a>
                                        <li class="header-cart">
                                            <a href="{% url 'cart' %}" data-toggle="modal" data-target="#cartModal">
                                                <i class="flaticon-shopping-bag"></i>
                                                <span id="cart-count" class="count">{{ cart_items|length }}</span>
                                            </a>
                                        </li>
                                        <li class="header-cart" onclick="showMessages()">
                                            <a href="{% url 'messages_page' %}" data-toggle="modal"
                                                data-target="#cartModal">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                    fill="currentColor" class="bi bi-chat-left-text"
                                                    viewBox="0 0 16 16">
                                                    <path
                                                        d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                                                    <path
                                                        d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5" />
                                                </svg>
                                                <span id="unread-count" class="count">{{ unread_message_count }}</span>
                                            </a>
                                        </li>
                                        <li class="offCanvas-menu">
                                            <a href="javascript:void(0)" class="menu-tigger">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="16"
                                                    viewBox="0 0 26 16" fill="none">
                                                    <rect width="9" height="2" rx="1" fill="currentcolor" />
                                                    <rect x="11" width="15" height="2" rx="1" fill="currentcolor" />
                                                    <rect y="14" width="26" height="2" rx="1" fill="currentcolor" />
                                                    <rect y="7" width="16" height="2" rx="1" fill="currentcolor" />
                                                    <rect x="17" y="7" width="9" height="2" rx="1"
                                                        fill="currentcolor" />
                                                </svg>
                                            </a>
                                        </li>
                                        <li class="header-btn"><a href="#registration-section" class="btn"
                                                id="announcement-button"><i
                                                    class="flaticon-calendar-1"></i>Appointment</a></li>
                                        <li class="header-cart">
                                            {% if user.is_authenticated %}
                                            <a href="{% url 'home' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35"
                                                    fill="currentColor" class="bi bi-person-fill-check"
                                                    viewBox="0 0 16 16">
                                                    <path
                                                        d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                                    <path
                                                        d="M2 13c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4" />
                                                </svg>
                                            </a> &nbsp; &nbsp;
                                            <a href="{% url 'logout' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35"
                                                    fill="currentColor" class="bi bi-box-arrow-right"
                                                    viewBox="0 0 16 16">
                                                    <path fill-rule="evenodd"
                                                        d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z" />
                                                    <path fill-rule="evenodd"
                                                        d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z" />
                                                </svg>
                                            </a>
                                            {% else %}
                                            <a href="{% url 'login' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35"
                                                    fill="currentColor" class="bi bi-person-add" viewBox="0 0 16 16">
                                                    <path
                                                        d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4" />
                                                    <path
                                                        d="M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z" />
                                                </svg>
                                            </a>
                                            {% endif %}


                                        </li>
                                    </ul>
                                </div>
                                <div class="mobile-nav-toggler">
                                    <i class="flaticon-layout"></i>
                                </div>
                            </nav>
                        </div>

                        <!-- Mobile Menu  -->
                        <div class="tgmobile__menu">
                            <nav class="tgmobile__menu-box">
                                <div class="close-btn"><i class="fas fa-times"></i></div>
                                <div class="nav-logo">
                                    <a href=""><img src="{% static 'assets/img/logo/logo.png' %}" alt=" Logo"></a>
                                </div>
                                <div class="tgmobile__search">
                                    <form action="#">
                                        <input type="text" placeholder="Search here...">
                                        <button><i class="fas fa-search"></i></button>
                                    </form>
                                </div>
                                <div class="tgmobile__menu-outer">
                                    <!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->
                                </div>
                                <div class="social-links">
                                    <ul class="list-wrap">
                                        <li><a href="https://www.facebook.com/" target="_blank"><i
                                                    class="fab fa-facebook-f"></i></a></li>
                                        <li><a href="https://twitter.com/" target="_blank"><i
                                                    class="fab fa-twitter"></i></a></li>
                                        <li><a href="https://www.whatsapp.com/" target="_blank"><i
                                                    class="fab fa-whatsapp"></i></a></li>
                                        <li><a href="https://www.instagram.com/" target="_blank"><i
                                                    class="fab fa-instagram"></i></a></li>
                                        <li><a href="https://www.youtube.com/" target="_blank"><i
                                                    class="fab fa-youtube"></i></a></li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                        <div class="tgmobile__menu-backdrop"></div>
                        <!-- End Mobile Menu -->

                    </div>
                </div>
            </div>
        </div>

        <!-- header-search -->
        <div class="search__popup">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="search__wrapper">
                            <div class="search__close">
                                <button type="button" class="search-close-btn">
                                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path d="M17 1L1 17" stroke="currentColor" stroke-width="1.5"
                                            stroke-linecap="round" stroke-linejoin="round"></path>
                                        <path d="M1 1L17 17" stroke="currentColor" stroke-width="1.5"
                                            stroke-linecap="round" stroke-linejoin="round"></path>
                                    </svg>
                                </button>
                            </div>
                            <div class="search__form">
                                <form action="#">
                                    <div class="search__input">
                                        <input class="search-input-field" type="text" placeholder="Type keywords here">
                                        <span class="search-focus-border"></span>
                                        <button>
                                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M9.55 18.1C14.272 18.1 18.1 14.272 18.1 9.55C18.1 4.82797 14.272 1 9.55 1C4.82797 1 1 4.82797 1 9.55C1 14.272 4.82797 18.1 9.55 18.1Z"
                                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                                    stroke-linejoin="round"></path>
                                                <path d="M19.0002 19.0002L17.2002 17.2002" stroke="currentcolor"
                                                    stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                                </path>
                                            </svg>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="search-popup-overlay"></div>
        <!-- header-search-end -->

        <!-- offCanvas-menu -->
        <div class="offCanvas__info">
            <div class="offCanvas__close-icon menu-close">
                <button><i class="far fa-window-close"></i></button>
            </div>
            <div class="offCanvas__logo mb-30">
                <a href=""><img src="{% static 'assets/img/logo/logo.png' %}" alt=" Logo"></a>
            </div>
            <div class="offCanvas__side-info mb-30">
                <div class="contact-list mb-30">
                    <h4>Office Address</h4>
                    <p>123/A, Miranda City Likaoli <br> Prikano, Dope</p>
                </div>
                <div class="contact-list mb-30">
                    <h4>Phone Number</h4>
                    <p>+0989 7876 9865 9</p>
                    <p>+(090) 8765 86543 85</p>
                </div>
                <div class="contact-list mb-30">
                    <h4>Email Address</h4>
                    <p>info@example.com</p>
                    <p>example.mail@hum.com</p>
                </div>
            </div>
            <div class="offCanvas__social-icon mt-30">
                <a href="javascript:void(0)"><i class="fab fa-facebook-f"></i></a>
                <a href="javascript:void(0)"><i class="fab fa-twitter"></i></a>
                <a href="javascript:void(0)"><i class="fab fa-google-plus-g"></i></a>
                <a href="javascript:void(0)"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
        <div class="offCanvas__overly"></div>
        <!-- offCanvas-menu-end -->

    </header>
    <!-- header-area-end -->

    {% endblock header %}

    {% block content %}
    <!-- Main content will be injected here from child templates -->
    {% endblock content %}

    {% include "home/footer.html" %}

    <!-- JS here -->
    <script src="{% static 'assets/js/vendor/jquery-3.6.0.min.js' %}"></script>
    <script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.magnific-popup.min.js'%}"></script>
    <script src="{% static 'assets/js/jquery.odometer.min.js'%}"></script>
    <script src="{% static 'assets/js/jquery.appear.js'%}"></script>
    <script src="{% static 'assets/js/swiper-bundle.min.js'%}"></script>
    <script src="{% static 'assets/js/jquery.countdown.min.js'%}"></script>
    <script src="{% static 'assets/js/svg-inject.min.js'%}"></script>
    <script src="{% static 'assets/js/select2.min.js'%}"></script>
    <script src="{% static 'assets/js/jquery-ui.min.js'%}"></script>
    <script src="{% static 'assets/js/ajax-form.js'%}"></script>
    <script src="{% static 'assets/js/wow.min.js'%}"></script>
    <script src="{% static 'assets/js/aos.js'%}"></script>
    <script src="{% static 'assets/js/main.js'%}"></script>

    {% block js %}
    <!-- Additional JS scripts can be added here from child templates -->
    {% endblock js %}
    <script src="{% static 'assets/js/checkout.js'%}"></script>
    <script>
        function updateCartModal() {
            $.ajax({
                url: '{% url "cart_data" %}', // URL to fetch cart data
                type: 'GET',
                success: function (data) {
                    $('#cart-count').text(data.cart_count);
                    let modalBody = $('#cartModal .modal-body');
                    modalBody.empty();
                    if (data.cart_items.length > 0) {
                        let itemsList = $('<ul></ul>');
                        data.cart_items.forEach(item => {
                            itemsList.append(`<li>${item.product.name} - $${item.product.price} x ${item.quantity}</li>`);
                        });
                        modalBody.append(itemsList);
                        modalBody.append(`<p>Subtotal: $${data.subtotal}</p>`);
                    } else {
                        modalBody.append('<p>Your cart is empty.</p>');
                    }
                },
                error: function (error) {
                    console.error('Error fetching cart data:', error);
                }
            });
        }

        // Call updateCartModal when the modal is about to be shown
        $('#cartModal').on('show.bs.modal', updateCartModal);
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetchUnreadCount();
        });

        function showMessages() {
            window.location.href = "{% url 'messages_page' %}";
        }

        function fetchUnreadCount() {
            fetch("{% url 'fetch_unread_count' %}")
                .then(response => response.json())
                .then(data => {
                    document.getElementById('unread-count').innerText = data.unread_count;
                });
        }
    </script>

    <script>
        function triggerTimeInput() {
            document.getElementById('id_appointment_time').focus();
        }
    </script>
</body>

</html>